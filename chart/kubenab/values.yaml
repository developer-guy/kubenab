# Default values for kubenab.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

imagePullSecrets:

image:
  repository: docker.bintray.io/kubenab
  # Note that by default we use appVersion to get image tag
  # tag:
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 443

docker:
  registryUrl:
  registrySecret: regsecret

  # Set to 'true' if you want that the original Registry URL will be
  # replaced with your Docker Domain.
  # Or set to to 'false' if you want to pre-pend your Docker Domain to the
  # original Registry URL.
  #
  # Example:
  # Container Image:              'docker.io/library/nginx:latest'
  # Enabled replaceRegistryUrl:   'jfrog.local/library/nginx:latest'
  # Disabled replaceRegistryUrl:  'jfrog.local/docker.io/library/nginx:latest'
  replaceRegistryUrl: true

## Enabling this will add annotations and a Service-Discovery, so Prometheus
## – especially the Prometheus-Operator – detect this Service and collects
## metrics
metrics:
  enable: true
  scrapeInterval: 10s

  ## you need to enable this if you are using self-signed TLS Certificates
  tlsSkipInsecure: false

# Whitelist namespaces e.g "kubesystem,default,development"
whitelistNamespaces: "kube-system,cert-manager"
# Whitelist docker registries within non-whitelisted namespaces e.g "rimusz,10.110.50.0:5000,docker.artifactory.com"
whitelistRegistries:

# Set external secret for TLS certs, it disables SelfSigned certs from the cert-manager
# Run script tls/gen-cert.sh to generate TLS certs and store them in kubenab-tls secret
tls:
  secretName: # kubenab-tls

# Use ValidatingAdmissionWebhook only if you want to check pulling 
# of docker image from a Private Docker Registry e.g JFrog Artifactory. 
# If your container image does not contain REGISTRY_URL then Kubetug will deny request to run that pod.
validatingWebhook:
  enabled: true

# Use MutatingAdmissionWebhook only if you want to enforce pulling 
# of docker image from a Private Docker Registry e.g JFrog Artifactory. 
# If your container image is nginx then Kubetug  will append REGISTRY_URL to it. e.g nginx will become someregistry/nginx
mutatingWebhook:
  enabled: false

resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 50m
    memory: 64Mi

## Role Based Access Control
rbac:
  create: true
  role:
    ## Rules to create. It follows the role specification
    rules:
    - apiGroups:
      - ''
      resources:
      - services
      - endpoints
      - pods
      verbs:
      - get
      - watch
      - list

affinity: {}

tolerations: []

nodeSelector: {}
